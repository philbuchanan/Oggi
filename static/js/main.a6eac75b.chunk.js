(this["webpackJsonpTo Dos"]=this["webpackJsonpTo Dos"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(8),o=n.n(c),i=(n(14),n(9)),s=n(1),u=n(3),l=n(4),d=n(0),h=function(e){var t=e.value,n=void 0===t?"":t,r=e.disabled,c=e.onSave,o=e.onChangeFocus,i=e.onEsc,u=Object(l.a)(e,["value","disabled","onSave","onChangeFocus","onEsc"]),h=Object(a.useRef)(null),f=function(e){c(e.target.innerText.trim(),h)};return Object(d.jsx)("div",Object(s.a)(Object(s.a)({ref:h,contentEditable:!r||null,suppressContentEditableWarning:!r||null,onFocus:function(){return o(!0)},onBlur:function(e){o(!1),f(e)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),f(e)):"Escape"===e.key&&i(h)},onChange:function(e){return setState(e.target.innerHTML)}},u),{},{children:n}))},f=function(e,t){return"function"===typeof e.getMonth&&"function"===typeof t.getMonth&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())},j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=function(e){return"function"!==typeof e.getMonth?"":"".concat(k[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"!==typeof e.getMonth)return"";if(t){if(x(e))return"Today";if(y(e))return"Yesterday";if(w(e))return"Tomorrow"}return j[e.getDay()]},v=function(e){if("function"!==typeof e.getMonth)return"";var t=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2);return"".concat(e.getFullYear(),"-").concat(t,"-").concat(n)},g=function(e){if(e&&"function"!==typeof e.getMonth)return!1;var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()+1),e>=t},m=function(e){if(e&&"function"!==typeof e.getMonth)return!1;var t=new Date;return t.setHours(0,0,0,0),e<t},O=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()-2),e.getTime()<t.getTime()},x=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return f(e,t)},w=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setDate(t.getDate()+1),f(e,t)},y=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setDate(t.getDate()-1),f(e,t)},k=["January","February","March","April","May","June","July","August","September","October","November","December"];var D=function e(){for(var t=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var r=typeof a;if("string"===r||"number"===r)t.push(a);else if(Array.isArray(a)&&a.length){var c=e.apply(null,a);c&&t.push(c)}else if("object"===r)for(var o in a)hasOwnProperty.call(a,o)&&a[o]&&t.push(o)}}return t.join(" ")},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},T=(n(16),n.p+"static/media/rocket.1fd57c08.png"),C=function(e){var t=e.date,n=e.tasks,a=e.dispatch,r=n.reduce((function(e,t){return t.complete?e[0].push(t):e[1].push(t),e}),[[],[]]),c=Object(u.a)(r,2),o=c[0],i=c[1],s=n.length>0,l=f(new Date,t),h=!l&&m(t),j=!l&&!h&&g(t),O=v(t);return Object(d.jsxs)("div",{className:D("c-day",h?"is-past":"",l?"is-today":"",j?"is-future":""),children:[Object(d.jsxs)("div",{className:"c-day__header",children:[Object(d.jsx)("h2",{className:"c-day__title",children:p(t)}),Object(d.jsx)("time",{datatime:O,className:"c-day__date",children:b(t)}),l&&s&&0===i.length&&Object(d.jsxs)(N,{children:[Object(d.jsx)("div",{className:"c-empty-state--rocket-icon",children:Object(d.jsx)("img",{src:T,alt:"rocket illustration",width:"30",height:"30"})}),"You\u2019ve completed everything for the day!"]})]}),Object(d.jsxs)("div",{className:"c-day__list",children:[h&&!s&&y(t)&&Object(d.jsxs)(N,{style:{marginTop:"40px"},children:["Tasks you complete today",Object(d.jsx)("br",{}),"will show up here tomorrow."]}),Object(d.jsx)(F,{isToday:l,date:O,completedTasks:o,remainingTasks:i,showAddButton:!h,dispatch:a})]})]})},N=(n(17),function(e){e.showIcon;var t=e.children,n=Object(l.a)(e,["showIcon","children"]);return Object(d.jsx)("div",Object(s.a)(Object(s.a)({className:"c-empty-state"},n),{},{children:Object(d.jsx)("div",{className:"c-empty-state__content",children:t})}))}),_=(n(18),function(e){var t=e.label,n=e.icon,r=e.onClick,c=e.onFocusChange,o=Object(l.a)(e,["label","icon","onClick","onFocusChange"]),i=Object(a.useState)(!1),h=Object(u.a)(i,2),f=h[0],j=h[1],b=function(e){j(e),c(e)},p=null;switch(n){case"checkmark":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM0 8a8 8 0 1116 0A8 8 0 010 8zm11.78-1.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})});break;case"checkmarkIncomplete":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{d:"M15.57,12.75l-1.17-.86h0L13.19,11h0L9.62,8.35h0L8.4,7.45h0L3.62,3.91h0L2.41,3h0L1.28,2.18a.75.75,0,0,0-1,.15.76.76,0,0,0,.16,1l1.14.85A7.42,7.42,0,0,0,.5,8a7.48,7.48,0,0,0,13,5.08l1.18.88a.76.76,0,0,0,.45.15.74.74,0,0,0,.6-.31A.75.75,0,0,0,15.57,12.75ZM8,14A6,6,0,0,1,2,8a5.82,5.82,0,0,1,.75-2.87L7.33,8.52l-.64.64L5.28,7.74a.77.77,0,0,0-1.07,0,.75.75,0,0,0,0,1.06l2.48,2.48L8.54,9.42l3.74,2.77A6,6,0,0,1,8,14Zm2.58-8.74L9.47,6.37l1.22.91,1-1a.74.74,0,0,0,0-1.06A.75.75,0,0,0,10.58,5.26ZM8,2a6,6,0,0,1,6,6,6.26,6.26,0,0,1-.21,1.57l1.27.94A7.49,7.49,0,0,0,3.54,2l1.27,1A5.93,5.93,0,0,1,8,2Z"})});break;case"trash":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"})});break;case"arrowUp":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"})});break;case"arrowDown":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M13.03 8.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.47 9.28a.75.75 0 011.06-1.06l2.97 2.97V3.75a.75.75 0 011.5 0v7.44l2.97-2.97a.75.75 0 011.06 0z"})});break;case"arrowLeft":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"})});break;case"arrowRight":p=Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"})})}return Object(d.jsx)(A,{text:t,isOpen:f,children:Object(d.jsx)("button",Object(s.a)(Object(s.a)({className:"c-icon-button",onClick:r,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}},o),{},{children:p}))})}),S=(n(19),function(e){var t=e.id,n=e.value,r=e.date,c=e.order,o=e.canMoveUp,i=e.canMoveDown,s=e.isComplete,l=e.dispatch,f=Object(a.useState)(!1),j=Object(u.a)(f,2),b=j[0],p=j[1],O=new Date("".concat(r,"T00:00:00"));return Object(d.jsxs)("div",{className:D("c-task","is-order-".concat(c+1),s?"is-complete":"",b?"is-focused":""),children:[Object(d.jsx)(h,{className:"c-task__edit",value:n,disabled:m(r),onChangeFocus:function(e){return p(e)},onSave:function(e){l(""===e?{type:"remove",id:t,date:r,order:c}:{type:"update",id:t,value:e.trim()})},onEsc:function(e){return e.current.innerText=n}}),Object(d.jsxs)("div",{className:"c-task__actions",children:[!m(r)&&Object(d.jsx)(_,{label:s?"Mark incomplete":"Mark complete",icon:s?"checkmarkIncomplete":"checkmark",onClick:function(){return l({type:"toggleComplete",id:t})},onFocusChange:function(e){return p(e)}}),Object(d.jsx)(_,{label:"Delete",icon:"trash",onClick:function(){window.confirm("Delete \u201c".concat(n,"\u201d?"))&&l({type:"remove",id:t,date:r,order:c})},onFocusChange:function(e){return p(e)}}),!s&&!m(r)&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{label:"Move Up",icon:"arrowUp",disabled:!o||null,onClick:function(){return l({type:"moveToPosition",id:t,date:r,from:c,to:c-1})},onFocusChange:function(e){return p(e)}}),Object(d.jsx)(_,{label:"Move Down",icon:"arrowDown",disabled:!i||null,onClick:function(){return l({type:"moveToPosition",id:t,date:r,from:c,to:c+1})},onFocusChange:function(e){return p(e)}}),g(O)?Object(d.jsx)(_,{label:"Move to today",icon:"arrowLeft",onClick:function(){return l({type:"moveToDate",id:t,order:c,from:r,to:v(new Date(O.getTime()-864e5))})},onFocusChange:function(e){return p(e)}}):Object(d.jsx)(_,{label:"Move to tomorrow",icon:"arrowRight",onClick:function(){return l({type:"moveToDate",id:t,order:c,from:r,to:v(new Date(O.getTime()+864e5))})},onFocusChange:function(e){return p(e)}})]})]})]})}),F=(n(20),function(e){var t=e.isToday,n=e.date,a=e.completedTasks,r=e.remainingTasks,c=e.showAddButton,o=void 0===c||c,i=e.dispatch,s=a.length+r.length>0,u=function(e,t){return Object(d.jsx)("li",{className:"c-task-list__item",children:Object(d.jsx)(S,{id:e.id,value:e.value,date:e.date,order:e.order,canMoveUp:e.order>0,canMoveDown:e.order<r.length-1,isComplete:e.complete,dispatch:i})},"task-".concat(e.id))};return Object(d.jsxs)("ul",{className:"o-list-bare c-task-list",children:[r.map(u),o&&Object(d.jsx)("li",{className:D("c-task-list__item",a.length>0?"has-separator":""),children:Object(d.jsx)(L,{date:n,dispatch:i,placeholder:t&&!s?"+ Add some tasks to get your day started\u2026":"+ Add"})}),a.map(u)]})}),L=function(e){var t=e.date,n=e.dispatch,r=e.placeholder,c=void 0===r?"+ Add":r,o=Object(a.useState)(!1),i=Object(u.a)(o,2),s=i[0],l=i[1];return Object(d.jsxs)("div",{className:D("c-task",s?"is-focused":""),children:[Object(d.jsx)(h,{className:"c-task__edit",onChangeFocus:function(e){return l(e)},onSave:function(e,a){""!==e&&(n({type:"add",value:e,date:t}),a.current.innerText="")},onEsc:function(e){return e.current.innerText=""}}),Object(d.jsx)("div",{className:"c-task__edit-placeholder",children:c})]})},A=(n(21),function(e){var t=e.children,n=e.text,r=e.isOpen,c=void 0!==r&&r,o=e.delay,i=void 0===o?1e3:o,s=Object(a.useState)(!1),l=Object(u.a)(s,2),h=l[0],f=l[1];return Object(a.useEffect)((function(){var e=null;return c?e=setTimeout((function(){f(!0)}),i):(clearTimeout(e),f(!1)),function(){clearTimeout(e)}}),[c]),Object(d.jsxs)("div",{className:D("c-tooltip",h?"is-open":""),children:[t,h&&Object(d.jsx)("div",{className:"c-tooltip__popover",children:n})]})}),E=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),r=Object(u.a)(n,2),c=r[0],o=r[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]};n(22);var B=function(){var e=Object(a.useState)(new Date),t=Object(u.a)(e,2),n=t[0],r=t[1],c=function(e,t){var n="string"===typeof t?t:v(t);return e.reduce((function(e,t){return n===t.date&&e.push(t),e}),[])},o=function(e,t){return c(e,t).length},l=E("tasks",[]),h=Object(u.a)(l,2),f=h[0],j=h[1],b=Object(a.useReducer)((function(e,t){switch(t.type){case"toggleComplete":return e.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{complete:!e.complete}):e}));case"add":return[].concat(Object(i.a)(e),[{id:M(),value:t.value,date:t.date,order:o(e,t.date),complete:!1}]);case"update":return e.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{value:t.value}):e}));case"remove":return e.reduce((function(e,n){return n.id!==t.id&&e.push(n.date===t.date&&n.order>t.order?Object(s.a)(Object(s.a)({},n),{},{order:n.order-1}):n),e}),[]);case"moveToDate":return e.map((function(n){return n.id===t.id?Object(s.a)(Object(s.a)({},n),{},{date:t.to,order:o(e,t.to)}):n.date===t.from&&n.order>t.order?Object(s.a)(Object(s.a)({},n),{},{order:n.order-1}):n}));case"moveToPosition":var n=t.from-t.to;return 0===n?e:e.reduce((function(e,a){var r=null;return a.date===t.date&&(t.id===a.id?r=Object(s.a)(Object(s.a)({},a),{},{order:t.to}):n<0&&a.order>t.from&&a.order<=t.to?r=Object(s.a)(Object(s.a)({},a),{},{order:a.order-1}):n>0&&a.order>=t.to&&a.order<t.from&&(r=Object(s.a)(Object(s.a)({},a),{},{order:a.order+1}))),e.push(r||a),e}),[]);case"replaceState":return t.state;default:return e}}),f),p=Object(u.a)(b,2),g=p[0],x=p[1];return Object(a.useEffect)((function(){var e=o(g,n),t=g.reduce((function(t,a){var r=new Date("".concat(a.date,"T00:00:00"));return m(r)?a.complete?O(r)||t.push(a):(t.push(Object(s.a)(Object(s.a)({},a),{},{date:v(n),order:e})),e+=1):t.push(a),t}),[]);x({type:"replaceState",state:t});var a=new Date;a.setHours(24,0,0,0);var c=setTimeout((function(){r(new Date)}),a.getTime()-n.getTime()+1e3);return function(){clearTimeout(c)}}),[v(n)]),Object(a.useEffect)((function(){j(g.sort((function(e,t){return e.order>t.order})))}),[JSON.stringify(g)]),Object(d.jsx)("div",{className:"c-app",children:[new Date(n.getTime()-864e5),n,new Date(n.getTime()+864e5)].map((function(e){return Object(d.jsx)(C,{date:e,tasks:c(g,e),dispatch:x},"day-".concat(e.getDate()))}))})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.a6eac75b.chunk.js.map