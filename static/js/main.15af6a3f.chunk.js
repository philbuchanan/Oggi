(this["webpackJsonpTo Dos"]=this["webpackJsonpTo Dos"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(8),o=n.n(c),i=(n(14),n(9)),s=n(1),u=n(3),d=n(4),l=n(0),h=function(e){var t=e.value,n=void 0===t?"":t,a=e.disabled,c=e.onSave,o=e.onChangeFocus,i=e.onEsc,u=Object(d.a)(e,["value","disabled","onSave","onChangeFocus","onEsc"]),h=Object(r.useRef)(null),f=function(e){c(e.target.innerText.trim(),h)};return Object(l.jsx)("div",Object(s.a)(Object(s.a)({ref:h,contentEditable:!a||null,suppressContentEditableWarning:!a||null,onFocus:function(){return o(!0)},onBlur:function(e){o(!1),f(e)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),f(e)):"Escape"===e.key&&i(h)},onChange:function(e){return setState(e.target.innerHTML)}},u),{},{children:n}))},f=function(e,t){return"function"===typeof e.getMonth&&"function"===typeof t.getMonth&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())},j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=function(e){return"function"!==typeof e.getMonth?"":"".concat(k[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"!==typeof e.getMonth)return"";if(t){if(x(e))return"Today";if(y(e))return"Yesterday";if(w(e))return"Tomorrow"}return j[e.getDay()]},v=function(e){if("function"!==typeof e.getMonth)return"";var t=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2);return"".concat(e.getFullYear(),"-").concat(t,"-").concat(n)},g=function(e){if(e&&"function"!==typeof e.getMonth)return!1;var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()+1),e>=t},m=function(e){if(e&&"function"!==typeof e.getMonth)return!1;var t=new Date;return t.setHours(0,0,0,0),e<t},O=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()-2),e.getTime()<t.getTime()},x=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return f(e,t)},w=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setDate(t.getDate()+1),f(e,t)},y=function(e){if("function"!==typeof e.getMonth)return"";var t=new Date;return t.setDate(t.getDate()-1),f(e,t)},k=["January","February","March","April","May","June","July","August","September","October","November","December"];var D=function e(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var a=typeof r;if("string"===a||"number"===a)t.push(r);else if(Array.isArray(r)&&r.length){var c=e.apply(null,r);c&&t.push(c)}else if("object"===a)for(var o in r)hasOwnProperty.call(r,o)&&r[o]&&t.push(o)}}return t.join(" ")},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},T=(n(16),n.p+"static/media/rocket.1fd57c08.png"),C=function(e){var t=e.date,n=e.tasks,r=e.dispatch,a=n.reduce((function(e,t){return t.complete?e[0].push(t):e[1].push(t),e}),[[],[]]),c=Object(u.a)(a,2),o=c[0],i=c[1],s=n.length>0,d=f(new Date,t),h=!d&&m(t),j=!d&&!h&&g(t),O=v(t);return Object(l.jsxs)("div",{className:D("c-day",h?"is-past":"",d?"is-today":"",j?"is-future":""),children:[Object(l.jsxs)("div",{className:"c-day__header",children:[Object(l.jsx)("h2",{className:"c-day__title",children:p(t)}),Object(l.jsx)("time",{datatime:O,className:"c-day__date",children:b(t)}),d&&s&&0===i.length&&Object(l.jsxs)(N,{children:[Object(l.jsx)("div",{className:"c-empty-state--rocket-icon",children:Object(l.jsx)("img",{src:T,alt:"rocket illustration",width:"30",height:"30"})}),"You\u2019ve completed everything for the day!"]})]}),Object(l.jsxs)("div",{className:"c-day__list",children:[h&&!s&&y(t)&&Object(l.jsxs)(N,{style:{marginTop:"40px"},children:["Tasks you complete today",Object(l.jsx)("br",{}),"will show up here tomorrow."]}),Object(l.jsx)(F,{isToday:d,date:O,completedTasks:o,remainingTasks:i,showAddButton:!h,dispatch:r})]})]})},N=(n(17),function(e){e.showIcon;var t=e.children,n=Object(d.a)(e,["showIcon","children"]);return Object(l.jsx)("div",Object(s.a)(Object(s.a)({className:"c-empty-state"},n),{},{children:Object(l.jsx)("div",{className:"c-empty-state__content",children:t})}))}),_=(n(18),function(e){var t=e.label,n=e.icon,a=e.onClick,c=e.onFocusChange,o=Object(d.a)(e,["label","icon","onClick","onFocusChange"]),i=Object(r.useState)(!1),h=Object(u.a)(i,2),f=h[0],j=h[1],b=function(e){j(e),c(e)},p=null;switch(n){case"checkmark":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM0 8a8 8 0 1116 0A8 8 0 010 8zm11.78-1.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})});break;case"trash":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"})});break;case"arrowUp":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"})});break;case"arrowDown":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M13.03 8.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.47 9.28a.75.75 0 011.06-1.06l2.97 2.97V3.75a.75.75 0 011.5 0v7.44l2.97-2.97a.75.75 0 011.06 0z"})});break;case"arrowLeft":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"})});break;case"arrowRight":p=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"})})}return Object(l.jsx)(A,{text:t,isOpen:f,children:Object(l.jsx)("button",Object(s.a)(Object(s.a)({className:"c-icon-button",onClick:a,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}},o),{},{children:p}))})}),S=(n(19),function(e){var t=e.id,n=e.value,a=e.date,c=e.order,o=e.canMoveUp,i=e.canMoveDown,s=e.isComplete,d=e.dispatch,f=Object(r.useState)(!1),j=Object(u.a)(f,2),b=j[0],p=j[1],O=new Date("".concat(a,"T00:00:00"));return Object(l.jsxs)("div",{className:D("c-task","is-order-".concat(c+1),s?"is-complete":"",b?"is-focused":""),children:[Object(l.jsx)(h,{className:"c-task__edit",value:n,disabled:m(a),onChangeFocus:function(e){return p(e)},onSave:function(e){d(""===e?{type:"remove",id:t,date:a,order:c}:{type:"update",id:t,value:e.trim()})},onEsc:function(e){return e.current.innerText=n}}),Object(l.jsxs)("div",{className:"c-task__actions",children:[!m(a)&&Object(l.jsx)(_,{label:s?"Mark incomplete":"Mark complete",icon:"checkmark",onClick:function(){return d({type:"toggleComplete",id:t})},onFocusChange:function(e){return p(e)}}),Object(l.jsx)(_,{label:"Delete",icon:"trash",onClick:function(){confirm("Delete \u201c".concat(n,"\u201d?"))&&d({type:"remove",id:t,date:a,order:c})},onFocusChange:function(e){return p(e)}}),!s&&!m(a)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(_,{label:"Move Up",icon:"arrowUp",disabled:!o||null,onClick:function(){return d({type:"moveToPosition",id:t,date:a,from:c,to:c-1})},onFocusChange:function(e){return p(e)}}),Object(l.jsx)(_,{label:"Move Down",icon:"arrowDown",disabled:!i||null,onClick:function(){return d({type:"moveToPosition",id:t,date:a,from:c,to:c+1})},onFocusChange:function(e){return p(e)}}),g(O)?Object(l.jsx)(_,{label:"Move to today",icon:"arrowLeft",onClick:function(){return d({type:"moveToDate",id:t,order:c,from:a,to:v(new Date(O.getTime()-864e5))})},onFocusChange:function(e){return p(e)}}):Object(l.jsx)(_,{label:"Move to tomorrow",icon:"arrowRight",onClick:function(){return d({type:"moveToDate",id:t,order:c,from:a,to:v(new Date(O.getTime()+864e5))})},onFocusChange:function(e){return p(e)}})]})]})]})}),F=(n(20),function(e){var t=e.isToday,n=e.date,r=e.completedTasks,a=e.remainingTasks,c=e.showAddButton,o=void 0===c||c,i=e.dispatch,s=r.length+a.length>0,u=function(e,t){return Object(l.jsx)("li",{className:"c-task-list__item",children:Object(l.jsx)(S,{id:e.id,value:e.value,date:e.date,order:e.order,canMoveUp:e.order>0,canMoveDown:e.order<a.length-1,isComplete:e.complete,dispatch:i})},"task-".concat(e.id))};return Object(l.jsxs)("ul",{className:"o-list-bare c-task-list",children:[a.map(u),o&&Object(l.jsx)("li",{className:D("c-task-list__item",r.length>0?"has-separator":""),children:Object(l.jsx)(E,{date:n,dispatch:i,placeholder:t&&!s?"+ Add some tasks to get your day started\u2026":"+ Add"})}),r.map(u)]})}),E=function(e){var t=e.date,n=e.dispatch,a=e.placeholder,c=void 0===a?"+ Add":a,o=Object(r.useState)(!1),i=Object(u.a)(o,2),s=i[0],d=i[1];return Object(l.jsxs)("div",{className:D("c-task",s?"is-focused":""),children:[Object(l.jsx)(h,{className:"c-task__edit",onChangeFocus:function(e){return d(e)},onSave:function(e,r){""!==e&&(n({type:"add",value:e,date:t}),r.current.innerText="")},onEsc:function(e){return e.current.innerText=""}}),Object(l.jsx)("div",{className:"c-task__edit-placeholder",children:c})]})},A=(n(21),function(e){var t=e.children,n=e.text,a=e.isOpen,c=void 0!==a&&a,o=e.delay,i=void 0===o?1e3:o,s=Object(r.useState)(!1),d=Object(u.a)(s,2),h=d[0],f=d[1];return Object(r.useEffect)((function(){var e=null;return c?e=setTimeout((function(){f(!0)}),i):(clearTimeout(e),f(!1)),function(){clearTimeout(e)}}),[c]),Object(l.jsxs)("div",{className:D("c-tooltip",h?"is-open":""),children:[t,h&&Object(l.jsx)("div",{className:"c-tooltip__popover",children:n})]})}),B=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log(r),t}})),a=Object(u.a)(n,2),c=a[0],o=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]};n(22);var L=function(){var e=Object(r.useState)(new Date),t=Object(u.a)(e,2),n=t[0],a=t[1],c=function(e,t){var n="string"===typeof t?t:v(t);return e.reduce((function(e,t){return n===t.date&&e.push(t),e}),[])},o=function(e,t){return c(e,t).length},d=B("tasks",[]),h=Object(u.a)(d,2),f=h[0],j=h[1],b=Object(r.useReducer)((function(e,t){switch(t.type){case"toggleComplete":return e.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{complete:!e.complete}):e}));case"add":return[].concat(Object(i.a)(e),[{id:M(),value:t.value,date:t.date,order:o(e,t.date),complete:!1}]);case"update":return e.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{value:t.value}):e}));case"remove":return e.reduce((function(e,n){return n.id!==t.id&&e.push(n.date===t.date&&n.order>t.order?Object(s.a)(Object(s.a)({},n),{},{order:n.order-1}):n),e}),[]);case"moveToDate":return e.map((function(n){return n.id===t.id?Object(s.a)(Object(s.a)({},n),{},{date:t.to,order:o(e,t.to)}):n.date===t.from&&n.order>t.order?Object(s.a)(Object(s.a)({},n),{},{order:n.order-1}):n}));case"moveToPosition":var n=t.from-t.to;return 0===n?e:e.reduce((function(e,r){var a=null;return r.date===t.date&&(t.id===r.id?a=Object(s.a)(Object(s.a)({},r),{},{order:t.to}):n<0&&r.order>t.from&&r.order<=t.to?a=Object(s.a)(Object(s.a)({},r),{},{order:r.order-1}):n>0&&r.order>=t.to&&r.order<t.from&&(a=Object(s.a)(Object(s.a)({},r),{},{order:r.order+1}))),e.push(a||r),e}),[]);case"replaceState":return t.state;default:return e}}),f),p=Object(u.a)(b,2),g=p[0],x=p[1];return Object(r.useEffect)((function(){var e=o(g,n),t=g.reduce((function(t,r){var a=new Date("".concat(r.date,"T00:00:00"));return m(a)?r.complete?O(a)||t.push(r):(t.push(Object(s.a)(Object(s.a)({},r),{},{date:v(n),order:e})),e+=1):t.push(r),t}),[]);x({type:"replaceState",state:t});var r=new Date;r.setHours(24,0,0,0);var c=setTimeout((function(){a(new Date)}),r.getTime()-n.getTime()+1e3);return function(){clearTimeout(c)}}),[v(n)]),Object(r.useEffect)((function(){j(g.sort((function(e,t){return e.order>t.order})))}),[JSON.stringify(g)]),Object(l.jsx)("div",{className:"c-app",children:[new Date(n.getTime()-864e5),n,new Date(n.getTime()+864e5)].map((function(e){return Object(l.jsx)(C,{date:e,tasks:c(g,e),dispatch:x},"day-".concat(e.getDate()))}))})};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.15af6a3f.chunk.js.map